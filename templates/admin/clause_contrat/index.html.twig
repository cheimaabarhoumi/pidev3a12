{% extends 'admin/base.html.twig' %}
{% block title %}Clauses du Contrat{% endblock %}
{% block page_title %}Clauses{% endblock %}
{% block page_heading %}Liste des Clauses{% endblock %}

{% block body %}
<div class="card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <h6>Clauses du contrat {{ contratId }}</h6>
    <a href="{{ path('admin_clause_contrat_new', {'contratId': contratId}) }}"
       class="btn btn-sm btn-success">
      ➕ Ajouter une clause
    </a>
  </div>
  <div class="card-body p-0">
    {% if clauses|length > 0 %}
      <div class="table-responsive">
        <table class="table mb-0">
          <thead>
            <tr>
              <th>Ordre</th>
              <th>Titre</th>
              <th>Type</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for clause in clauses %}
              <tr>
                <td>{{ clause.ordre }}</td>
                <td>{{ clause.titre }}</td>
                <td><span class="badge bg-info">{{ clause.type }}</span></td>
                <td>
                  <a href="{{ path('admin_clause_contrat_show', {
                            'contratId': contratId,
                            'id': clause.idClause
                          }) }}"
                     class="btn btn-sm btn-info">👁️ Voir</a>
                  <a href="{{ path('admin_clause_contrat_edit', {
                            'contratId': contratId,
                            'id': clause.idClause
                          }) }}"
                     class="btn btn-sm btn-warning">✏️ Modifier</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% else %}
      <div class="alert alert-info m-3">
        Aucune clause trouvée pour ce contrat.
      </div>
    {% endif %}
  </div>
</div>
{% endblock %}
